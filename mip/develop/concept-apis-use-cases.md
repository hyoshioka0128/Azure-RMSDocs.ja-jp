---
title: 概念 - MIP SDK の API。
description: この記事は、MIP SDK の 3 種類の API、その関連性、およびそれぞれのユースケースを理解するのに役立ちます。
author: msmbaldwin
ms.service: information-protection
ms.topic: conceptual
ms.collection: M365-security-compliance
ms.date: 10/16/2018
ms.author: mbaldwin
ms.openlocfilehash: d4bef66f8e3d808b195ac49f7bb42ab0eb62b7d5
ms.sourcegitcommit: 474cd033de025bab280cb7a9721ac7ffc2d60b55
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/05/2019
ms.locfileid: "60180860"
---
# <a name="microsoft-information-protection-sdk---api-concepts"></a>Microsoft Information Protection SDK - API の概念

Microsoft Information Protection (MIP) SDK は、次の図に示すように 3 つの API で構成されています。

[![MIP SDK API の図](media/concept-apis-use-cases/mip-sdk-components.png)](media/concept-apis-use-cases/mip-sdk-components.png#lightbox)

アプリケーションの要件に応じて、ファイル API 層でインターフェイスを設定したり、またはポリシー API 層や保護 API 層を直接操作したりする必要があります。

## <a name="file-api"></a>ファイル API

ファイル API は、保護 API とポリシー API の両方を抽象化したものです。 サービスからラベルを読み取ったり、定義した種類のファイルにラベルを適用したり、これらの種類のファイルからラベルを読み取ったりするための、使いやすいインターフェイスが提供されます。 ファイル API は、次のような任意のサービスまたはアプリケーションによって使用されます。

- サポートされているファイルの種類が含まれる
- ラベルの読み取りまたは書き込みを実行する必要がある
- コンテンツを保護または暗号化解除する必要がある

### <a name="file-api-use-cases"></a>ファイル API のユース ケース

- たとえば、金融サービス機関のソフトウェア エンジニアであるとします。 LOB アプリケーションからデータをエクスポートするときに (通常は Excel 形式でエクスポートされる)、必ず、コンテンツに基づいてラベルを付ける必要があります。 ファイル API を使用して利用可能なラベルを一覧表示し、適切なラベルをサポートされているファイル形式に適用することができます。

- 組織では CASB (Cloud Access Security Broker) を開発しています。 顧客は、Microsoft Office および PDF ドキュメントに MIP ラベルを適用する機能を求めています。 ファイル API を使用すると、構成されたラベルを一覧表示して、顧客が指定したラベルを適用するルールを作成できるようにすることができます。 ファイル API では、ラベル ID を使用して、顧客の条件を満たす残りのファイルが処理されます。

- 組織には、サービス ベースのデータ損失防止ソリューション、またはファイル アクティビティについて SaaS アプリケーションを監視する CASB が用意されています。 データが MIP で保護されている場合に、データの損失や漏えいのリスクを減らすには、保護されたファイルのコンテンツをサービスでスキャンする必要があります。 サポートされた形式向けにファイル API を使用すると、サービスが特権ユーザーである場合に次を実行できます。

  1. 保護を解除する
  2. 制限のあるコンテンツまたは機密性の高いコンテンツの内容をスキャンする
  3. プレーンテキストの結果を破棄する
  4. レポートにサービス ルールを適用したり、リスクが検出されたときにそのリスクを修復したりする

## <a name="policy-api"></a>ポリシー API

ポリシー API、または Universal Policy Engine (UPE) を使うと、ソフトウェア開発者は特定のユーザーのためにラベル付けのポリシーを取得できます。 その後、これらのラベルで実行する必要があるアクションを "計算する" ことができます。

ポリシー API は主に、開発者がインターフェイスとファイル形式を制御するクライアント アプリケーションによって使用されます。 また、要件がユーザー ポリシーを取得することのみで、ラベル ファイルを直接取得することではない場合にも使用されます。 

### <a name="policy-api-use-cases"></a>ポリシー API のユース ケース

- 組織では、独自のファイル形式を使用する 3D デザイン ソフトウェアを開発しています。 顧客は MIP を使用しており、アプリケーションを通じてネイティブにラベルを適用する必要があります。 ソフトウェア エンジニアは、ポリシー API とカスタム コントロールを使用して、認証済みユーザーが利用できるラベルを表示します。 ユーザーがラベルを選択したら、API のアクション計算メソッドを呼び出します。 API によって、メタデータ、コンテンツのマーキング、保護に関して適用する必要がある内容が正確に示されます。

- 組織ではデータ損失防止 (DLP) サービスを開発しています。これを使うと、顧客は全体管理ポータルを介して DLP ポリシーを構成できるようになります。 MIP を使用する顧客がおり、DLP ポリシーの一部として、AIP ラベルの読み取りまたは適用を実行できる必要があります。 ソフトウェア エンジニアは、ポリシー API を使用して顧客の組織のラベル一覧を取得することができます。 その後、それらのラベルを DLP ルールの一部として読み取ったり、ラベル情報をルールのアクションの一部として適用したりできます。

## <a name="protection-api"></a>保護 API

保護 API を使用すると、ソフトウェア開発者は、プレーンテキスト ストリームから権限が管理されるストリームへの変換、またはその逆の変換を行うことができます。

### <a name="protection-api-use-cases"></a>保護 API のユース ケース

- 所属組織では独自のファイル形式を使用して、3D 印刷ソフトウェアを開発しています。 MIP を使用してファイルを保護し、特定のユーザーのみが印刷できるようにする必要があります。 保護 API を使用して、承認された顧客のみがファイルを開いて印刷できるようにファイルに保護を適用することができます。 

- 組織では、Exchange メールボックスと .PST ファイルを処理する電子情報開示ソリューションを開発しています。 アプリケーションでは、電子情報開示を実行するために、ユーザーがメッセージを暗号化解除できるようにする必要があります。 カスタム メッセージ/RPMSG パーサーと十分な特権があるアカウントを使用することで、RMS API を利用して次の操作を実行できます。
  - 暗号化されたファイルを暗号化解除する
  - コンテンツをスキャンする
  - スコープ外の場合は破棄し、スコープ内の場合はパッケージ化する

## <a name="next-steps"></a>次のステップ

これで利用可能な MIP API の概念と使用方法がわかりました。次は、[プロファイルおよびエンジン オブジェクトの概念](concept-profile-engine-cpp.md)を確認します。 これらの概念は基本的なものであり、すべての MIP API セットに適用されます。
